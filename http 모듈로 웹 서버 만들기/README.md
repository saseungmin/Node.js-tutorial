# âœ”ï¸ http ëª¨ë“ˆë¡œ ì›¹ ì„œë²„ ë§Œë“¤ê¸°
## âœ’ ìš”ì²­ê³¼ ì‘ë‹µ
- ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ê°€ì§„ ë…¸ë“œ ì„œë²„ ë§Œë“¤ê¸°
- req ê°ì²´ëŠ” ìš”ì²­ì— ê´€í•œ ì •ë³´ë“¤ê³¼ res ê°ì²´ëŠ” ì‘ë‹µì— ê´€í•œ ì •ë³´ë¥¼ ë‹´ëŠ”ë‹¤.
<pre>
// ì½œë°± í•¨ìˆ˜ë¡œ ë„£ì–´ì¤€ë‹¤.
const http = require('http');

http.createServer((req, res) => {
    res.write('< h1>hello< /h1>');
    res.end('< p>hello world< /p>')
}).listen(8080, () => {
    console.log('8080ì—°ê²° ëŒ€ê¸°');
})
</pre>
> ğŸ“Œ ìì„¸í•œ ë°©ë²•ì€ server1.js  ì°¸ê³ 
- íŒŒì¼ì„ ì½ì–´ì™€ì„œ html íŒŒì¼ì„ ì „ì†¡í•˜ëŠ” ë°©ë²•ì€ `fs.readFile()`ì„ ì‚¬ìš©í•´ì„œ ì²˜ë¦¬í•œë‹¤.
> ğŸ“Œ ìì„¸í•œ ë°©ë²•ì€ server2.jsì™€ server2.html ì°¸ê³ 
<pre>
    fs.readFile('./server2.html', (err, data) => {
        if(err){
            throw err;
        }
        res.end(data);
    });
</pre>

## âœ’ ì¿ í‚¤ì™€ ì„¸ì…˜
- ì¿ í‚¤ëŠ” name=seung;year=2010 ì²˜ëŸ¼ ë¬¸ìì—´ í˜•ì‹ìœ¼ë¡œ ì˜¤ë¯€ë¡œ ì´ë¥¼  {name : 'seung', year:'2020'}ì™€ ê°™ì´ ê°ì²´ë¡œ ë°”ê¾¸ëŠ” í•¨ìˆ˜ê°€ í•„ìš”í•˜ë‹¤.
- server3.js `parseCookies`ì°¸ì¡°
- ì¿ í‚¤ëŠ” `req.headers.cookie`ì— ë‹´ê²¨ìˆë‹¤.
- ì‘ë‹µì˜ í—¤ë”ì— ì¿ í‚¤ë¥¼ ê¸°ë¡í•´ì•¼ í•˜ë¯€ë¡œ `res.writeHead` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤
- `res.writeHead`ì˜ ì²« ë²ˆì§¸ ì¸ìëŠ” ìƒíƒœ ì½”ë“œë¥¼ ë„£ì–´ì£¼ê³  ë‘ ë²ˆì§¸ ì¸ìì— í—¤ë”ì˜ ë‚´ìš©ì„ ì…ë ¥í•œë‹¤.(`"Set-Cookie": "myCookie=test"`)

![ì¿ í‚¤](../img/1.PNG)

<hr>

### ğŸ”¶ ì¿ í‚¤ì˜ ì˜µì…˜
> - ì¿ í‚¤ëª…=ì¿ í‚¤ê°’ : ê¸°ë³¸ì ì¸ ì¿ í‚¤ì˜ ê°’ì´ë‹¤. name=seung ê³¼ ê°™ì´ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
> - Expires=ë‚ ì§œ : ë§Œë£Œ ê¸°í•œìœ¼ë¡œì¨ ì´ ê¸°í•œì´ ì§€ë‚˜ë©´ ì¿ í‚¤ê°€ ì œê±°ë˜ê³  ê¸°ë³¸ê°’ì€ í´ë¼ì´ì–¸íŠ¸ê°€ ì¢…ë£Œë  ë•Œê¹Œì§€ì´ë‹¤.
> - Max-age=ì´ˆ : Expiresì™€ ë¹„ìŠ·í•˜ì§€ë§Œ ë‚ ì§œ ëŒ€ì‹  ì´ˆë¥¼ ì…ë ¥í•  ìˆ˜ ìˆê³  í•´ë‹¹ ì´ˆê°€ ì§€ë‚˜ë©´ ì¿ í‚¤ê°€ ì œê±°ëœë‹¤. ë˜í•œ, Expires ë³´ë‹¤ ìš°ì„ ëœë‹¤.
> - Domain=ë„ë©”ì¸ëª… : ì¿ í‚¤ê°€ ì „ì†¡ë  ë„ë©”ì¸ì„ íŠ¹ì •í•  ìˆ˜ ìˆë‹¤. ê¸°ë³¸ê°’ì€ í˜„ì¬ ë„ë©”ì¸ì´ë‹¤.
> - Path=URL : ì¿ í‚¤ê°€ ì „ì†¡ë  URLì„ íŠ¹ì •í•­ ìˆ˜ ìˆë‹¤. ê¸°ë³¸ê°’ì€ '/'ì´ê³  ì´ ê²½ìš° ëª¨ë“  URLì—ì„œ ì¿ í‚¤ë¥¼ ì „ì†¡í•  ìˆ˜ ìˆë‹¤.
> - Secure: HTTPSì¼ ê²½ìš°ì—ë§Œ ì¿ í‚¤ê°€ ì „ì†¡ëœë‹¤.
> - HttpOnly : ì„¤ì • ì‹œ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì¿ í‚¤ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤.

- server4.js ì—ì„œì˜ ë°©ë²•ì€ ì¿ í‚¤ê°€ ë…¸ì¶œë˜ì–´ ì¿ í‚¤ê°€ ì¡°ì‘ë  ìœ„í—˜ì´ ìˆë‹¤. => server5.js ìˆ˜ì •
> ğŸ“Œ server5.jsì°¸ê³ (ì„¸ì…˜ ë°©ë²•)
<pre>
// ì„ì˜ì˜ ìˆ«ìë¥¼ ë³´ë‚¸ë‹¤.
// ì‚¬ìš©ì ì´ë¦„ê³¼ ë§Œë£Œì‹œê°„ì€ session ê°ì²´ì— ë‹´ëŠ”ë‹¤.
const randomInt = Date.now();
session[randomInt] = {
    name,
    expires,
};
res.writeHead(302, {
Location: "/",
"Set-Cookie": `session=${randomInt}; Expires=${expires.toGMTString()}; HttpOnly; Path=/`,
});
res.end();
</pre>

![session](../img/2.PNG)

<hr>

